<div class="col">
  <div class="row m-3">

    <button pButton pRipple type="button" icon="pi pi-user-plus" class="p-button-rounded"
      (click)="showResponsiveDialog()"></button>

    <p-dialog header="Ajouter Recruteur" [(visible)]="displayResponsive" [breakpoints]="{'960px': '75vw'}"
      [style]="{width: '70vw'}" [draggable]="true" [resizable]="true">


      <div class="alert alert-danger" *ngIf="errorMsg.length > 0">
        <div *ngFor="let msg of errorMsg">
          <span>{{msg}}</span>
        </div>
      </div>

      <body class="bg-theme bg-theme11">

        <form>   

        <div class="row mt-3">
          <div class="col-lg-11"> 
            <div class="card">
              <div class="card-body">
                <div class="card-title"><i class="pi pi-id-card"></i>&nbsp; Information Recruteur
                </div>
                  <div class="form-group row">

                    <div class="col-lg-4">
                      <input #nom class="form-control" type="text" name="nom" placeholder="Nom"
                        [(ngModel)]="entrepriseDto.nom">
                    </div>


                    <div class="col-lg-4">
                      <input #codeFiscal class="form-control" type="text" name="codefiscal" placeholder="Code fiscal"
                        [(ngModel)]="entrepriseDto.codeFiscal">
                    </div>

                    <div class="col-lg-4">
                      <input #email class="form-control" type="text" name="email" placeholder="E-mail"
                        [(ngModel)]="entrepriseDto.email">
                    </div>

                  </div>



                  <div class="form-group row">

                    <div class="col-lg-4">
                      <input #adresse class="form-control" type="text" name="adresse" placeholder="Adresse"
                        [(ngModel)]="entrepriseDto.adresse1">
                    </div>


                    <div class="col-lg-4">
                      <input #pays class="form-control" type="text" name="pays" placeholder="Pays"
                        [(ngModel)]="entrepriseDto.pays">
                    </div>

                    <div class="col-lg-4">
                      <input #numTel type="text" class="form-control" placeholder="Telephone" name="numTel"
                        [(ngModel)]="entrepriseDto.numTel">
                    </div>


                  </div>


                  <div class="form-group row">

                    <div class="col">
                      <input #ville type="text" class="form-control" placeholder="Ville " name="ville"
                        [(ngModel)]="entrepriseDto.ville">
                    </div>

                    <div class="col">
                      <input #codePostale type="text" class="form-control" placeholder="Code Postale" name="codePostale"
                        [(ngModel)]="entrepriseDto.codePostale">
                    </div>


                    


                    <div class="col">
                      <textarea #description type="text" class="form-control" placeholder="Description" name="description"
                        [(ngModel)]="entrepriseDto.description"></textarea>
                    </div>


                   
                  </div>

                
              </div>
            </div>
          </div>
        </div>


       </form>


      </body>



      <br>

      <ng-template pTemplate="footer">
        <br>
        <div class="col-md-12 text-right">
          <button class="btn btn-danger mr-3" (click)="annuler()" >
            <i class="pi pi-ban"></i>&nbsp;
            Annuler
          </button>
          <!-- enregistrerRecruteur(checking()) -->
          <button class="btn btn-primary" (click)="enregistrerRecruteur(checking())">
            <i class="pi pi-save"></i>&nbsp;
            Enregitrer
          </button>
        </div>

      </ng-template>

    </p-dialog>
  </div>



  <!-- Tableau du Recruteur -->


  <div class="col m-3">

    <div class="row mb-1 mr-0 custom-border" *ngFor="let recut of listEntreprise">

      <div class="col-md-2 custom-border-right  p-1 text-center mb-1 mt-1">
        <img [src]="recut.photo ? recut.photo :  'assets/images/profile.png' " width="100px" height="100px">
      </div>

      <div class="col-md-5 custom-border-right mb-1 mt-1 ">
        <div class="col">

          <div class="row">
            <div class="col-md-1"><i class="icon-user"></i></div>
            <div class="col-md-11">{{recut.nom}}</div>
          </div>

         

          <div class="row">
            <div class="col-md-1"><i class="pi pi-credit-card "></i></div>
            <div class="col-md-11">{{recut.email}}</div>
          </div>

          <div class="row">
            <div class="col-md-1"><i class="pi pi-desktop"></i></div>
            <div class="col-md-11">{{recut.description}}</div>
          </div>
          
          <div class="row">
            <div class="col-md-1"><i class="pi pi-phone"></i></div>
            <div class="col-md-11">{{recut.numTel}}</div>
          </div>

        </div>
      </div>

      <div class="col-md-3 custom-border-right mb-1 mt-1 ">

        <div class="row">
          <div class="col-md-2">
            <i class="pi pi-map-marker"></i>
            <i class="pi pi-flag "></i>
            <i class="zmdi zmdi-city"></i>
            <i class="zmdi zmdi-code"></i>
          </div>

          <div class="col-md-10">
            <div class="row">
              <div class="col-md-12" >{{recut.adresse1}}</div>
              <div class="col-md-12">{{recut.pays}}</div>
              <div class="col-md-12">{{recut.ville}}</div>
              <div class="col-md-12">{{recut.codePostale}}</div>
            </div>
          </div>

        </div>
      </div>


  

      <div class="col-md-2 custom-border-right  p-3 text-center mb-1 mt-1">
        <button pButton pRipple icon="pi pi-user-edit" class="p-button-rounded p-button-success mr-2"
          (click)="showModifierRecruteurSialogue()" (click)="modifierRecruteur(recut.id)"></button>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-danger" data-toggle="modal"
           data-target="#modalDeleteRecruteur" (click)="selectRecruteurPourSupprimer(recut.id)"></button>

      </div>

    </div>




<!-- modal -->

<div class="modal fade" id="modalDeleteRecruteur" data-backdrop="static" data-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Confirmation</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p style="color:red;">Etes vous-sur de vouloir supprimer cette Recruteur?</p>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="annulerSuppressionRecruteur()">
          <i class="pi pi-ban"></i>&nbsp;Annuler</button>

        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="confirmerEtSupprimerRecruteur()">
          <i class="pi pi-trash"></i>&nbsp;Supprimer</button>
      </div>
    </div>
  </div>
</div>

  </div>
  <div class="row mb-3">
    <div class=" col-md-12 text-center" *ngIf="listEntreprise.length >0 ">
      <app-pagination></app-pagination>

    </div>
  </div>

</div>


  <!-- modifier recruteur -->

<p-dialog header="Modifier Recruteur" [(visible)]="modifierRecruteurDialogue" [breakpoints]="{'960px': '75vw'}"
      [style]="{width: '70vw'}" [draggable]="true" [resizable]="true">


      <div class="alert alert-danger" *ngIf="errorMsg.length > 0">
        <div *ngFor="let msg of errorMsg">
          <span>{{msg}}</span>
        </div>
      </div>

      <body class="bg-theme bg-theme11">

        <form>

        <br>
        <div class="col-md-12 mb-3 mt-3">
          <button (click)="fileInput.click()" style="background-color: transparent; border: none;">
            <img [src]="imgUrl" class="rounded-circle" width="200px" height="200px" />
            <input hidden type="file" #fileInput (change)="onFileInput(fileInput.files)">
          </button>
        </div>


        <hr>

        <div class="row mt-3">
          <div class="col-lg-11">
            <div class="card">
              <div class="card-body">
                <div class="card-title"><i class="pi pi-id-card"></i>&nbsp; Information Recruteur
                </div>
                  <div class="form-group row">

                    <div class="col-lg-4">
                      <input #nom class="form-control" type="text" name="nom" placeholder="Nom"
                        [(ngModel)]="entrepriseDto.nom">
                    </div>


                    <div class="col-lg-4">
                      <input #prenom class="form-control" type="text" name="prenom" placeholder="PrÃ©nom"
                        [(ngModel)]="entrepriseDto.codeFiscal">
                    </div>

                    <div class="col-lg-4">
                      <input #cin class="form-control" type="text" name="cin" placeholder="CIN"
                        [(ngModel)]="entrepriseDto.email">
                    </div>

                  </div>



                  <div class="form-group row">

                    <div class="col-lg-6">
                      <input #poste class="form-control" type="text" name="poste" placeholder="Poste"
                        [(ngModel)]="entrepriseDto.adresse1">
                    </div>


                    <div class="col-lg-6">
                      <input #tele class="form-control" type="tele" name="telephone" placeholder="Telephone"
                        [(ngModel)]="entrepriseDto.pays">
                    </div>


                  </div>


                  <div class="form-group row">

                    <div class="col">
                      <input #adresse1 type="text" class="form-control" placeholder="Adresse " name="adresse1"
                        [(ngModel)]="entrepriseDto.codePostale">
                    </div>

                    <div class="col">
                      <input #pays type="text" class="form-control" placeholder="Pays" name="pays"
                        [(ngModel)]="entrepriseDto.description">
                    </div>

                    <div class="col">
                      <input #ville type="text" class="form-control" placeholder="Ville" name="ville"
                        [(ngModel)]="entrepriseDto.numTel">
                    </div>


                    <!-- <div class="col">
                      <input #codePostale type="text" class="form-control" placeholder="Code postal" name="codepostal"
                        [(ngModel)]="recruteurDto.codePostale">
                    </div> -->

                  </div>

                
              </div>
            </div>
          </div>
        </div>


       </form>


      </body>



      <br>

      <ng-template pTemplate="footer">
        <br>
        <div class="col-md-12 text-right">
          <button class="btn btn-danger mr-3" (click)="annulerModif()">
            <i class="pi pi-ban"></i>&nbsp;
            Annuler
          </button>
          <button class="btn btn-primary" (click)="modifierRecruteur1(checkingUpdateRecruteur())">
            <i class="pi pi-save"></i>&nbsp;
            Enregitrer
          </button>
        </div>

      </ng-template>

    </p-dialog>